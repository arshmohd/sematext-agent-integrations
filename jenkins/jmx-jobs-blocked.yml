type: jmx

observation:
  - name: jenkins-job-blocked
    metricNamespace: jenkins
    objectName: io.jenkins:type=Job,name=Blocked

    metric:
      - name: jobs.blocked
        source: Count
        type: counter
        label: jobs blocked
        description: The count at which jobs in the build queue enter the blocked state.

      - name: jobs.blocked.time.mean
        source: Mean
        type: double_gauge
        send: false

      - name: jobs.blocked.time
        source: func:DoubleMultiply(jobs.blocked, jobs.blocked.time.mean)
        type: double_counter
        label: blocked jobs time
        unit: ms
        description: The amount of time jobs in the build queue enter spend in blocked state.
